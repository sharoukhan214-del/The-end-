<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„ØµÙ†Ø§ÙŠØ¹ÙŠØ© - Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø§Ù…Ù„</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root { --bg: #0b1120; --card: #1e293b; --accent: #f59e0b; --blue: #3b82f6; --success: #10b981; --danger: #ef4444; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; padding-bottom: 70px; }
        .screen { display: none; min-height: 100vh; animation: fadeIn 0.4s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header { background: #161e2e; padding: 15px; display: flex; justify-content: space-around; border-bottom: 2px solid var(--accent); position: sticky; top:0; z-index:100; }
        header a { color: white; text-decoration: none; font-weight: bold; font-size: 0.8rem; cursor: pointer; }

        .card { background: var(--card); padding: 15px; border-radius: 15px; margin: 15px; border: 1px solid #334155; }
        .btn { border: none; padding: 12px; border-radius: 10px; width: 100%; cursor: pointer; font-weight: bold; margin-top: 10px; }
        input, select { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #475569; background: #0f172a; color: white; box-sizing: border-box; }
        
        /* Ø§Ù„Ø®Ø±ÙŠØ·Ø© ÙˆØ§Ù„Ø´Ø§Øª */
        .map-container { height: 250px; border-radius: 15px; border: 2px solid var(--accent); margin: 10px 0; }
        .chat-area { height: 120px; background: #0f172a; border-radius: 10px; padding: 10px; overflow-y: auto; font-size: 0.9rem; border: 1px solid #334155; }
        .hero-img { width: 150px; border-radius: 50%; border: 4px solid var(--accent); margin-bottom: 15px; }
    </style>
</head>
<body>

<div id="splash" class="screen active">
    <div style="text-align: center; padding: 50px 20px;">
        <img src="https://img.freepik.com/free-photo/plumber-pointing-side_1368-1033.jpg" class="hero-img">
        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©</h1>
        <p>Ù†Ø¸Ø§Ù… Ø£Ù…Ø§Ù† ÙŠØ¶Ù…Ù† Ø­Ù‚Ùƒ Ø¨Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ</p>
        <button class="btn" style="background: var(--accent);" onclick="show('reg-client')">ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…ÙŠÙ„ (Ø¨Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„)</button>
        <button class="btn" style="background: var(--blue); color: white;" onclick="show('reg-worker')">ØªØ³Ø¬ÙŠÙ„ ØµÙ†Ø§ÙŠØ¹ÙŠ (Ø¨Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙˆØ§Ù„Ù‚ÙˆÙ…ÙŠ)</button>
    </div>
</div>

<div id="client-dash" class="screen">
    <header>
        <a onclick="show('client-dash')">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</a>
        <a onclick="show('client-profile')">Ø¨Ø±ÙˆÙØ§ÙŠÙ„ÙŠ</a>
        <a onclick="show('splash')">Ø®Ø±ÙˆØ¬</a>
    </header>
    <div class="card">
        <h3>Ø·Ù„Ø¨ ØµÙ†Ø§ÙŠØ¹ÙŠ (Ø­Ø¯Ø¯ Ù…ÙˆÙ‚Ø¹Ùƒ)</h3>
        <div id="map-client" class="map-container"></div>
        <input type="text" id="jobDesc" placeholder="Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ">
        <input type="number" id="jobPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­ (Ø¬Ù†ÙŠÙ‡)">
        <button class="btn" style="background: var(--accent);" onclick="startOrder()">Ù†Ø´Ø± Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„ØªÙØ§ÙˆØ¶</button>
    </div>
    <div id="active-order-client" class="card" style="display:none;">
        <h4>ØªØªØ¨Ø¹ Ø§Ù„ÙÙ†ÙŠ ÙˆØ´Ø§Øª</h4>
        <div class="chat-area">Ù†Ø¸Ø§Ù…: "ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø·Ù„Ø¨ÙƒØŒ Ø§Ù„ÙÙ†ÙŠ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.."</div>
        <button class="btn" style="background: var(--blue); color:white;">Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ ğŸ“</button>
    </div>
</div>

<div id="worker-dash" class="screen">
    <header>
        <a onclick="show('worker-dash')">Ø§Ù„Ù…Ù‡Ø§Ù…</a>
        <a onclick="show('worker-wallet')">Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>
        <a onclick="show('worker-profile')">Ø¨Ø±ÙˆÙØ§ÙŠÙ„ÙŠ</a>
    </header>
    <div class="card">
        <h3>Ø·Ù„Ø¨Ø§Øª Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø© Ù…Ù†Ùƒ</h3>
        <div style="background:#0f172a; padding:10px; border-radius:10px;">
            <p><strong>Ø³Ø¨Ø§ÙƒØ© - Ø§Ù„Ù…Ø¹Ø§Ø¯ÙŠ</strong> (500 Ø¬)</p>
            <button class="btn" style="background:var(--success); color:white;" onclick="acceptOrder()">Ø¥Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø£ÙˆØ±Ø¯Ø± (ÙØªØ­ GPS)</button>
        </div>
        <div id="map-worker" class="map-container" style="display:none;"></div>
    </div>
</div>

<div id="worker-wallet" class="screen">
    <div class="card">
        <h3>Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª (20%)</h3>
        <div style="background:var(--danger); padding:20px; border-radius:10px; text-align:center;">
            <p>Ø§Ù„Ù…Ø¯ÙŠÙˆÙ†ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</p>
            <h1 id="debt">0 Ø¬Ù†ÙŠÙ‡</h1>
        </div>
        <div class="card" style="margin:10px 0; background:#0f172a;">
            <p>Ù„Ù„Ø³Ø¯Ø§Ø¯ØŒ Ø­ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ:</p>
            <h2 style="color:var(--accent)">01020744825</h2>
        </div>
        <button class="btn" style="background:var(--success); color:white;">Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„</button>
    </div>
</div>

<div id="client-profile" class="screen">
    <div class="card" style="text-align:center;">
        <div style="width:80px; height:80px; background:grey; border-radius:50%; margin: 0 auto 10px;"></div>
        <h3>Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>
        <p>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: 01XXXXXXXX</p>
        <button class="btn" onclick="show('client-dash')">Ø±Ø¬ÙˆØ¹</button>
    </div>
</div>

<div id="worker-profile" class="screen">
    <div class="card" style="text-align:center;">
        <img src="https://via.placeholder.com/80" style="border-radius:50%;">
        <h3>Ø£Ø­Ù…Ø¯ Ø§Ù„Ø³Ø¨Ø§Ùƒ (Ù…ÙˆØ«Ù‚ âœ…)</h3>
        <p>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ: 29XXXXXXXXXXXX</p>
        <button class="btn" onclick="show('worker-dash')">Ø±Ø¬ÙˆØ¹</button>
    </div>
</div>

<div id="reg-worker" class="screen">
    <div class="card">
        <h3>ØªØ³Ø¬ÙŠÙ„ ÙÙ†ÙŠ Ø¬Ø¯ÙŠØ¯</h3>
        <input type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="number" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ">
        <input type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
        <button class="btn" style="background:var(--blue); color:white;" onclick="show('worker-dash')">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
    </div>
</div>

<div id="reg-client" class="screen">
    <div class="card">
        <h3>ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…ÙŠÙ„</h3>
        <input type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
        <button class="btn" style="background:var(--accent);" onclick="show('client-dash')">Ø¯Ø®ÙˆÙ„</button>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    let mapC, mapW;
    function show(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'client-dash' && !mapC) initMap('map-client', 'C');
        if(id === 'worker-dash' && !mapW) initMap('map-worker', 'W');
    }

    function initMap(divId, type) {
        let m = L.map(divId).setView([30.0444, 31.2357], 14);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(m);
        L.marker([30.0444, 31.2357]).addTo(m).bindPopup(type === 'C' ? 'Ø­Ø¯Ø¯ Ù…ÙˆÙ‚Ø¹Ùƒ' : 'Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ù…ÙŠÙ„').openPopup();
        if(type === 'C') mapC = m; else mapW = m;
    }

    function startOrder() {
        document.getElementById('active-order-client').style.display = 'block';
        alert('ØªÙ… Ù†Ø´Ø± Ø·Ù„Ø¨Ùƒ Ù„Ù„ØµÙ†Ø§ÙŠØ¹ÙŠØ© Ø§Ù„Ù‚Ø±ÙŠØ¨ÙŠÙ†');
    }

    function acceptOrder() {
        document.getElementById('map-worker').style.display = 'block';
        alert('ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø£ÙˆØ±Ø¯Ø±.. ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø¢Ù† Ø¹Ø¨Ø± Ø§Ù„Ø®Ø±ÙŠØ·Ø©');
    }
</script>

</body>
</html>
